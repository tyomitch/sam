/**
 * This is SamJs.js v0.1.2
 *
 * A Javascript port of "SAM Software Automatic Mouth".
 *
 * (c) 2017-2020 Christian Schiffler
 *
 * @link(https://github.com/discordier/sam)
 *
 * @author 2017 Christian Schiffler <c.schiffler@cyberspectrum.de>
 */
var r=[0,224,230,236,243,249,0,6,12,6],n=[0,31,31,31,31,2,2,2,2,2,2,2,2,2,5,5,2,10,2,8,5,5,11,10,9,8,8,160,8,8,23,31,18,18,18,18,30,30,20,20,20,20,23,23,26,26,29,29,2,2,2,2,2,2,26,29,27,26,29,27,26,29,27,26,29,27,23,29,23,23,29,23,23,29,23,23,29,23,23,23],a=[0,2,2,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,3,2,4,4,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,0,1,0,1,0,5,5,5,5,5,4,4,2,0,1,2,0,1,2,0,1,2,0,1,2,0,2,2,0,1,3,0,2,3,0,2,160,160],f=[0,2,2,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,3,3,3,3,3,1,2,3,2,1,3,3,3,3,1,1,3,3,3,2,2,3,2,3,0,0,5,5,5,5,4,4,2,0,2,2,0,3,2,0,4,2,0,3,2,0,2,2,0,2,3,0,3,3,0,3,176,160],t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,226,211,187,124,149,1,2,3,3,0,114,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,25,0,0,0,0,0,0,0,0,0],o=[0,5980947,5980947,5980947,5980947,7230474,6113550,5980947,5783320,5842971,5712919,5775125,5383440,5844244,6113550,4075794,5383182,5774866,4076306,7218448,5250317,6112527,5904395,3944978,7216654,5904395,7230217,5320198,7943686,6641158,7943686,5980945,6506758,6967046,5315078,7946758,6113550,5383440,6107913,6767114,4990984,6106890,6639366,6639366,7946758,6639365,7958022,0,5916691,5777179,5775125,5778203,5774866,5382669,5315078,5315078,5315078,7946758,7946758,7946758,7368198,7237126,7237126,6181894,6181894,6181894,5315078,5315078,5315078,7946758,7946758,7946758,6647046,6641162,7367946,6181894,6181894,6181894,556844,98067],v=[0,0,0,0,0,526861,461581,527630,527887,68879,68623,3087,68367,2316,461581,330508,68623,3087,396301,67597,2061,461838,2061,330252,67597,2061,526861,780,2313,198153,0,0,0,0,0,0,0,0,779,66827,779,1035,0,0,1,66827,920064,66050,593422,68879,3087,68879,3087,2061,2,260,0,2,260,0,1,260,0,1,260,0,0,0,0,0,0,0,0,461324,0,0,330240,0,1245199,1048591];function e(r,n){return(r*n>>8&255)<<1}var u=1,i=2,c=255,h=1;function l(r,n,a){var f,t=n;for(n<30?n=0:n-=30;127===(f=a[n]);)++n;for(;n!==t;)for(f+=r,a[n]=255&f;++n!==t&&255===a[n];);}export default function PrepareFrames(g,p,m,s,b){var d=function F(n,a,f){for(var o=[],e=[[],[],[]],g=[[],[],[]],p=[],m=0,s=0;s<a.length;s++){var b=a[s][0];b===u?l(h,m,o):b===i&&l(c,m,o);for(var d=r[a[s][2]],x=a[s][1];x>0;x--)e[0][m]=f[0][b],e[1][m]=f[1][b],e[2][m]=f[2][b],g[0][m]=255&v[b],g[1][m]=v[b]>>8&255,g[2][m]=v[b]>>16&255,p[m]=t[b],o[m]=n+d&255,m++}return[o,e,g,p]}(p,g,function x(r,n){var a=[[],[],[]];o.map(function(r,n){a[0][n]=255&r,a[1][n]=r>>8&255,a[2][n]=r>>16&255});for(var f=5;f<30;f++)a[0][f]=e(r,a[0][f]),a[1][f]=e(n,a[1][f]);for(var t=48;t<54;t++)a[0][t]=e(r,a[0][t]),a[1][t]=e(n,a[1][t]);return a}(m,s)),M=d[0],P=d[1],j=d[2],k=d[3],q=function w(r,t,o,v){for(var e,u,i=[r,t[0],t[1],t[2],o[0],o[1],o[2]],c=function(r,n){return i[r][n]},h=function(r,n,a,f){for(var t=f<0,o=Math.abs(f)%r,v=f/r|0,e=0,u=r;--u>0;){var h=c(n,a)+v;(e+=o)>=r&&(e-=r,t?h--:h&&h++),i[n][++a]=h,h+=v}},l=0,g=0;g<v.length-1;g++){var p=v[g][0],m=v[g+1][0],s=n[m],b=n[p];b===s?(e=a[p],u=a[m]):b<s?(e=f[m],u=a[m]):(e=a[p],u=f[p]);var d=(l+=v[g][1])+u,x=l-e,F=e+u;if(0==(F-2&128)){var M=v[g][1]>>1,P=v[g+1][1]>>1;h(M+P,0,x,r[l+P]-r[l-M]);for(var j=1;j<7;j++)h(F,j,x,c(j,d)-c(j,x))}}return l+v[v.length-1][1]}(M,P,j,g);if(!b)for(var y=0;y<M.length;y++)M[y]-=P[0][y]>>1;for(var z=[0,1,2,2,2,3,3,4,4,5,6,8,9,11,13,15],A=j[0].length-1;A>=0;A--)j[0][A]=z[j[0][A]],j[1][A]=z[j[1][A]],j[2][A]=z[j[2][A]];return[q,P,M,j,k]};
//# sourceMappingURL=renderer.esm.min.js.map